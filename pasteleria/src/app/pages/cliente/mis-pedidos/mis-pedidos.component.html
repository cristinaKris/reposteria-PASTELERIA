<div class="container">
  <h1>Mis pedidos</h1>

  <table class="tabla-pedidos">
    <thead>
      <tr>
        <th>FOLIO</th>
        <th>STATUS</th>
        <th>DESCRIPCIÓN</th>
        <th>FECHA ENTREGA</th>
        <th>FORMA ENTREGA</th>
        <th>CALIFICAR</th>
      </tr>
    </thead>

    <tbody>
      @for (pedido of pedidos; track $index) {
        <tr>
          <td>{{ pedido.folio }}</td>
          <td>{{ pedido.status }}</td>
          <td>{{ pedido.descripcion }}</td>
          <td>{{ pedido.fechaEntrega }}</td>
          <td>{{ pedido.formaEntrega }}</td>

          <td>
            @if (pedido.status === 'ENTREGADO') {
              @for (s of [1,2,3,4,5]; track $index) {
                <span
                  class="star"
                  (click)="calificar(pedido, s)"
                  [class.filled]="s <= pedido.rating">
                  ★
                </span>
              }
            } @else {
              —
            }
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>

